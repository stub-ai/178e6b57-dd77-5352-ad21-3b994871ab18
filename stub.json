{"config":{"system_prompt":"","model":"","temperature":0,"top_p":1,"framework":"nextjs-page-tailwind"},"prompts":[{"prompt":"Le fichier main-collection-product-grid.liquid est conçu pour afficher une grille de produits dans une collection Shopify, avec diverses options de personnalisation. Voici les éléments clés :\n\nStyles et Scripts: Inclut des feuilles de style et des scripts pour la grille de produits, les cartes de produits, et les options de filtrage et d'ajout rapide.\n\nParamètres de Section: Permet de configurer différents aspects de la grille de produits, comme le nombre de produits par page, le nombre de colonnes sur le bureau et le mobile, le schéma de couleurs, et plus encore.\n\nOptions de Filtrage et de Tri: Permet aux utilisateurs de filtrer et de trier les produits de la collection, avec des options pour le filtrage horizontal, vertical, ou en tiroir.\n\nAffichage de la Grille de Produits: Génère la grille de produits en fonction des produits disponibles dans la collection. Inclut des fonctionnalités telles que l'affichage d'une image secondaire au survol, l'affichage du vendeur, l'évaluation des produits, et la possibilité d'ajouter rapidement des produits au panier.\n\nPrise en Charge des Variants de Produits: Intègre le rendu de la carte de variantes de produit (card-product-variant.liquid) pour chaque produit, en tenant compte des réglages spécifiques de la collection.\n\nLe fichier card-product-variant.liquid est utilisé pour afficher une carte pour chaque variante de produit dans la grille. Ses caractéristiques principales incluent :\n\nPrise en Charge des Aspects du Produit: Gère des aspects comme le ratio des images, l'affichage d'une image secondaire, les informations sur le vendeur, et les évaluations des produits.\n\nBouton d'Ajout Rapide: Intègre une option pour ajouter rapidement des produits au panier, avec des conditions pour gérer les produits avec plusieurs variantes.\n\nAdaptabilité et Personnalisation: S'adapte à différentes configurations telles que les ratios d'aspect des images et les classes de mise en forme horizontale pour répondre aux besoins spécifiques de la mise en page.\n\nEn résumé, main-collection-product-grid.liquid est un template complet pour afficher une collection de produits avec des options de filtrage et de tri, tandis que card-product-variant.liquid est un composant spécifique utilisé dans ce template pour présenter chaque produit ou variante de produit de manière détaillée et personnalisable.  main-collection-product-grid.liquid {{ 'template-collection.css' | asset_url | stylesheet_tag }}\n{{ 'component-card.css' | asset_url | stylesheet_tag }}\n{{ 'component-price.css' | asset_url | stylesheet_tag }}\n\n{% if section.settings.image_shape == 'blob' %}\n  {{ 'mask-blobs.css' | asset_url | stylesheet_tag }}\n{% endif %}\n\n{% if section.settings.enable_quick_add %}\n  {{ 'quick-add.css' | asset_url | stylesheet_tag }}\n  <script src=\"{{ 'quick-add.js' | asset_url }}\" defer=\"defer\"></script>\n  <script src=\"{{ 'product-form.js' | asset_url }}\" defer=\"defer\"></script>\n{% endif %}\n\n{%- style -%}\n  :root {\n     --grid-columns-mobile: {{ section.settings.columns_mobile }};\n     --grid-columns-desktop: {{ section.settings.columns_desktop }};\n   }\n   .section-{{ section.id }}-padding {\n     padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;\n     padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;\n   }\n\n   @media screen and (min-width: 750px) {\n     .section-{{ section.id }}-padding {\n       padding-top: {{ section.settings.padding_top }}px;\n       padding-bottom: {{ section.settings.padding_bottom }}px;\n     }\n   }\n{%- endstyle -%}\n\n<div class=\"section-{{ section.id }}-padding gradient color-{{ section.settings.color_scheme }}\">\n  {%- paginate collection.products by section.settings.products_per_page -%}\n    {% comment %} Sort is the first tabbable element when filter type is vertical {% endcomment %}\n    {%- if section.settings.enable_sorting and section.settings.filter_type == 'vertical' -%}\n      <facet-filters-form class=\"facets facets-vertical-sort page-width small-hide no-js-hidden\">\n        <form class=\"facets-vertical-form\" id=\"FacetSortForm\">\n          <div class=\"facet-filters sorting caption\">\n            <div class=\"facet-filters__field\">\n              <h2 class=\"facet-filters__label caption-large text-body\">\n                <label for=\"SortBy\">{{ 'products.facets.sort_by_label' | t }}</label>\n              </h2>\n              <div class=\"select\">\n                {%- assign sort_by = collection.sort_by | default: collection.default_sort_by -%}\n                <select\n                  name=\"sort_by\"\n                  class=\"facet-filters__sort select__select caption-large\"\n                  id=\"SortBy\"\n                  aria-describedby=\"a11y-refresh-page-message\"\n                >\n                  {%- for option in collection.sort_options -%}\n                    <option\n                      value=\"{{ option.value | escape }}\"\n                      {% if option.value == sort_by %}\n                        selected=\"selected\"\n                      {% endif %}\n                    >\n                      {{ option.name | escape }}\n                    </option>\n                  {%- endfor -%}\n                </select>\n                {% render 'icon-caret' %}\n              </div>\n            </div>\n            <noscript>\n              <button type=\"submit\" class=\"facets__button-no-js button button--secondary\">\n                {{ 'products.facets.sort_button' | t }}\n              </button>\n            </noscript>\n          </div>\n\n          <div class=\"product-count-vertical light\" role=\"status\">\n            <h2 class=\"product-count__text text-body\">\n              <span id=\"ProductCountDesktop\">\n                {%- if collection.results_count -%}\n                  {{\n                    'templates.search.results_with_count'\n                    | t: terms: collection.terms, count: collection.results_count\n                  }}\n                {%- elsif collection.products_count == collection.all_products_count -%}\n                  {{ 'products.facets.product_count_simple' | t: count: collection.products_count }}\n                {%- else -%}\n                  {{\n                    'products.facets.product_count'\n                    | t: product_count: collection.products_count, count: collection.all_products_count\n                  }}\n                {%- endif -%}\n              </span>\n            </h2>\n            {%- render 'loading-spinner' -%}\n          </div>\n        </form>\n      </facet-filters-form>\n    {%- endif -%}\n\n    <div class=\"{% if section.settings.filter_type == 'vertical' %} facets-vertical page-width{% endif %}\">\n      {{ 'component-facets.css' | asset_url | stylesheet_tag }}\n      <script src=\"{{ 'facets.js' | asset_url }}\" defer=\"defer\"></script>\n      {%- if section.settings.enable_filtering or section.settings.enable_sorting -%}\n        <aside\n          aria-labelledby=\"verticalTitle\"\n          class=\"facets-wrapper{% unless section.settings.enable_filtering %} facets-wrapper--no-filters{% endunless %}{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\"\n          id=\"main-collection-filters\"\n          data-id=\"{{ section.id }}\"\n        >\n          {% render 'facets',\n            results: collection,\n            enable_filtering: section.settings.enable_filtering,\n            enable_sorting: section.settings.enable_sorting,\n            filter_type: section.settings.filter_type,\n            paginate: paginate\n          %}\n        </aside>\n      {%- endif -%}\n\n      <div\n        class=\"product-grid-container{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}\"\n        id=\"ProductGridContainer\"\n        {% if settings.animations_reveal_on_scroll %}\n          data-cascade\n        {% endif %}\n      >\n        {%- if collection.products.size == 0 -%}\n          <div class=\"collection collection--empty page-width\" id=\"product-grid\" data-id=\"{{ section.id }}\">\n            <div class=\"loading-overlay gradient\"></div>\n            <div class=\"title-wrapper center\">\n              <h2 class=\"title title--primary\">\n                {{ 'sections.collection_template.empty' | t -}}\n                <br>\n                {{\n                  'sections.collection_template.use_fewer_filters_html'\n                  | t: link: collection.url, class: 'underlined-link link'\n                }}\n              </h2>\n            </div>\n          </div>\n        {%- else -%}\n          <div class=\"collection{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\">\n            <div class=\"loading-overlay gradient\"></div>\n\n            <ul id=\"product-grid\" class=\"grid product-grid ...\">\n              {%- for product in collection.products -%}\n                {% assign lazy_load = false %}\n                {%- if forloop.index > 2 -%}\n                  {% assign lazy_load = true -%}\n                {%- endif -%}\n\n                {% assign colorlist = '' %}\n                {% assign product_matched = false %}\n                {% assign color_index = null %}\n                {% assign product_index = null %}\n                {% assign variant_title = '' %}\n                <!-- Added line for variant title -->\n\n                {%- for option in product.options -%}\n                  {% if option == 'Produit' %}\n                    {% assign product_index = forloop.index0 %}\n                  {% elsif option == 'Couleur' %}\n                    {% assign color_index = forloop.index0 %}\n                  {% endif %}\n                {%- endfor -%}\n\n                {% for variant in product.variants %}\n                  {% if product_index != null and variant.options[product_index] == collection.title %}\n                    {% assign product_matched = true %}\n                  {% endif %}\n\n                  {% if product_matched and color_index != null %}\n                    {% assign color = variant.options[color_index] %}\n                    {% unless colorlist contains color %}\n                      {% assign colorlist = colorlist | append: color | append: ' ' %}\n                      {% assign variant_title = product.title\n                        | append: ' - '\n                        | append: color\n                        | append: ' - '\n                        | append: collection.title\n                      %}\n                      <!-- Combined title -->\n                      <li class=\"grid__item\">\n                        {%\n                          render 'card-product-variant',\n                          card_product: variant,\n                          variant_title: variant_title, <!-- Changed from title to variant_title -->\n                          media_aspect_ratio: section.settings.image_ratio,\n                          show_secondary_image: section.settings.show_secondary_image,\n                          show_vendor: section.settings.show_vendor,\n                          show_rating: section.settings.show_rating,\n                          lazy_load: lazy_load,\n                          show_quick_add: section.settings.enable_quick_add,\n                          section_id: section.id\n                        %}\n                      </li>\n                    {% endunless %}\n                  {% endif %}\n                {% endfor %}\n              {%- endfor -%}\n            </ul>\n            {%- if paginate.pages > 1 -%}\n              {% render 'pagination', paginate: paginate, anchor: '' %}\n            {%- endif -%}\n          </div>\n        {%- endif -%}\n      </div>\n    </div>\n  {%- endpaginate -%}\n  {% if section.settings.image_shape == 'arch' %}\n    {% render 'mask-arch' %}\n  {%- endif -%}\n</div>\n\n{% schema %}\n{\n  \"name\": \"t:sections.main-collection-product-grid.name\",\n  \"class\": \"section\",\n  \"settings\": [\n    {\n      \"type\": \"range\",\n      \"id\": \"products_per_page\",\n      \"min\": 8,\n      \"max\": 24,\n      \"step\": 4,\n      \"default\": 16,\n      \"label\": \"t:sections.main-collection-product-grid.settings.products_per_page.label\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"columns_desktop\",\n      \"min\": 1,\n      \"max\": 5,\n      \"step\": 1,\n      \"default\": 4,\n      \"label\": \"t:sections.main-collection-product-grid.settings.columns_desktop.label\"\n    },\n    {\n      \"type\": \"color_scheme\",\n      \"id\": \"color_scheme\",\n      \"label\": \"t:sections.all.colors.label\",\n      \"info\": \"t:sections.all.colors.has_cards_info\",\n      \"default\": \"background-1\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.main-collection-product-grid.settings.header__3.content\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"image_ratio\",\n      \"options\": [\n        {\n          \"value\": \"adapt\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.options__1.label\"\n        },\n        {\n          \"value\": \"portrait\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.options__2.label\"\n        },\n        {\n          \"value\": \"square\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.options__3.label\"\n        }\n      ],\n      \"default\": \"adapt\",\n      \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.label\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"image_shape\",\n      \"options\": [\n        {\n          \"value\": \"default\",\n          \"label\": \"t:sections.all.image_shape.options__1.label\"\n        },\n        {\n          \"value\": \"arch\",\n          \"label\": \"t:sections.all.image_shape.options__2.label\"\n        },\n        {\n          \"value\": \"blob\",\n          \"label\": \"t:sections.all.image_shape.options__3.label\"\n        },\n        {\n          \"value\": \"chevronleft\",\n          \"label\": \"t:sections.all.image_shape.options__4.label\"\n        },\n        {\n          \"value\": \"chevronright\",\n          \"label\": \"t:sections.all.image_shape.options__5.label\"\n        },\n        {\n          \"value\": \"diamond\",\n          \"label\": \"t:sections.all.image_shape.options__6.label\"\n        },\n        {\n          \"value\": \"parallelogram\",\n          \"label\": \"t:sections.all.image_shape.options__7.label\"\n        },\n        {\n          \"value\": \"round\",\n          \"label\": \"t:sections.all.image_shape.options__8.label\"\n        }\n      ],\n      \"default\": \"default\",\n      \"label\": \"t:sections.all.image_shape.label\",\n      \"info\": \"t:sections.all.image_shape.info\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"show_secondary_image\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.show_secondary_image.label\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"show_vendor\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.show_vendor.label\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"show_rating\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.show_rating.label\",\n      \"info\": \"t:sections.main-collection-product-grid.settings.show_rating.info\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"enable_quick_add\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.enable_quick_buy.label\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.main-collection-product-grid.settings.header__1.content\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"enable_filtering\",\n      \"default\": true,\n      \"label\": \"t:sections.main-collection-product-grid.settings.enable_filtering.label\",\n      \"info\": \"t:sections.main-collection-product-grid.settings.enable_filtering.info\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"filter_type\",\n      \"options\": [\n        {\n          \"value\": \"horizontal\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.options__1.label\"\n        },\n        {\n          \"value\": \"vertical\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.options__2.label\"\n        },\n        {\n          \"value\": \"drawer\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.options__3.label\"\n        }\n      ],\n      \"default\": \"horizontal\",\n      \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.label\",\n      \"info\": \"t:sections.main-collection-product-grid.settings.filter_type.info\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"enable_sorting\",\n      \"default\": true,\n      \"label\": \"t:sections.main-collection-product-grid.settings.enable_sorting.label\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.main-collection-product-grid.settings.header_mobile.content\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"columns_mobile\",\n      \"default\": \"2\",\n      \"label\": \"t:sections.main-collection-product-grid.settings.columns_mobile.label\",\n      \"options\": [\n        {\n          \"value\": \"1\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.columns_mobile.options__1.label\"\n        },\n        {\n          \"value\": \"2\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.columns_mobile.options__2.label\"\n        }\n      ]\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.all.padding.section_padding_heading\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"padding_top\",\n      \"min\": 0,\n      \"max\": 100,\n      \"step\": 4,\n      \"unit\": \"px\",\n      \"label\": \"t:sections.all.padding.padding_top\",\n      \"default\": 36\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"padding_bottom\",\n      \"min\": 0,\n      \"max\": 100,\n      \"step\": 4,\n      \"unit\": \"px\",\n      \"label\": \"t:sections.all.padding.padding_bottom\",\n      \"default\": 36\n    }\n  ]\n}\n{% endschema %}\n card-product-variant.liquid {{ 'template-collection.css' | asset_url | stylesheet_tag }}\n{{ 'component-card.css' | asset_url | stylesheet_tag }}\n{{ 'component-price.css' | asset_url | stylesheet_tag }}\n\n{% if section.settings.image_shape == 'blob' %}\n  {{ 'mask-blobs.css' | asset_url | stylesheet_tag }}\n{% endif %}\n\n{% if section.settings.enable_quick_add %}\n  {{ 'quick-add.css' | asset_url | stylesheet_tag }}\n  <script src=\"{{ 'quick-add.js' | asset_url }}\" defer=\"defer\"></script>\n  <script src=\"{{ 'product-form.js' | asset_url }}\" defer=\"defer\"></script>\n{% endif %}\n\n{%- style -%}\n  :root {\n     --grid-columns-mobile: {{ section.settings.columns_mobile }};\n     --grid-columns-desktop: {{ section.settings.columns_desktop }};\n   }\n   .section-{{ section.id }}-padding {\n     padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;\n     padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;\n   }\n\n   @media screen and (min-width: 750px) {\n     .section-{{ section.id }}-padding {\n       padding-top: {{ section.settings.padding_top }}px;\n       padding-bottom: {{ section.settings.padding_bottom }}px;\n     }\n   }\n{%- endstyle -%}\n\n<div class=\"section-{{ section.id }}-padding gradient color-{{ section.settings.color_scheme }}\">\n  {%- paginate collection.products by section.settings.products_per_page -%}\n    {% comment %} Sort is the first tabbable element when filter type is vertical {% endcomment %}\n    {%- if section.settings.enable_sorting and section.settings.filter_type == 'vertical' -%}\n      <facet-filters-form class=\"facets facets-vertical-sort page-width small-hide no-js-hidden\">\n        <form class=\"facets-vertical-form\" id=\"FacetSortForm\">\n          <div class=\"facet-filters sorting caption\">\n            <div class=\"facet-filters__field\">\n              <h2 class=\"facet-filters__label caption-large text-body\">\n                <label for=\"SortBy\">{{ 'products.facets.sort_by_label' | t }}</label>\n              </h2>\n              <div class=\"select\">\n                {%- assign sort_by = collection.sort_by | default: collection.default_sort_by -%}\n                <select\n                  name=\"sort_by\"\n                  class=\"facet-filters__sort select__select caption-large\"\n                  id=\"SortBy\"\n                  aria-describedby=\"a11y-refresh-page-message\"\n                >\n                  {%- for option in collection.sort_options -%}\n                    <option\n                      value=\"{{ option.value | escape }}\"\n                      {% if option.value == sort_by %}\n                        selected=\"selected\"\n                      {% endif %}\n                    >\n                      {{ option.name | escape }}\n                    </option>\n                  {%- endfor -%}\n                </select>\n                {% render 'icon-caret' %}\n              </div>\n            </div>\n            <noscript>\n              <button type=\"submit\" class=\"facets__button-no-js button button--secondary\">\n                {{ 'products.facets.sort_button' | t }}\n              </button>\n            </noscript>\n          </div>\n\n          <div class=\"product-count-vertical light\" role=\"status\">\n            <h2 class=\"product-count__text text-body\">\n              <span id=\"ProductCountDesktop\">\n                {%- if collection.results_count -%}\n                  {{\n                    'templates.search.results_with_count'\n                    | t: terms: collection.terms, count: collection.results_count\n                  }}\n                {%- elsif collection.products_count == collection.all_products_count -%}\n                  {{ 'products.facets.product_count_simple' | t: count: collection.products_count }}\n                {%- else -%}\n                  {{\n                    'products.facets.product_count'\n                    | t: product_count: collection.products_count, count: collection.all_products_count\n                  }}\n                {%- endif -%}\n              </span>\n            </h2>\n            {%- render 'loading-spinner' -%}\n          </div>\n        </form>\n      </facet-filters-form>\n    {%- endif -%}\n\n    <div class=\"{% if section.settings.filter_type == 'vertical' %} facets-vertical page-width{% endif %}\">\n      {{ 'component-facets.css' | asset_url | stylesheet_tag }}\n      <script src=\"{{ 'facets.js' | asset_url }}\" defer=\"defer\"></script>\n      {%- if section.settings.enable_filtering or section.settings.enable_sorting -%}\n        <aside\n          aria-labelledby=\"verticalTitle\"\n          class=\"facets-wrapper{% unless section.settings.enable_filtering %} facets-wrapper--no-filters{% endunless %}{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\"\n          id=\"main-collection-filters\"\n          data-id=\"{{ section.id }}\"\n        >\n          {% render 'facets',\n            results: collection,\n            enable_filtering: section.settings.enable_filtering,\n            enable_sorting: section.settings.enable_sorting,\n            filter_type: section.settings.filter_type,\n            paginate: paginate\n          %}\n        </aside>\n      {%- endif -%}\n\n      <div\n        class=\"product-grid-container{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}\"\n        id=\"ProductGridContainer\"\n        {% if settings.animations_reveal_on_scroll %}\n          data-cascade\n        {% endif %}\n      >\n        {%- if collection.products.size == 0 -%}\n          <div class=\"collection collection--empty page-width\" id=\"product-grid\" data-id=\"{{ section.id }}\">\n            <div class=\"loading-overlay gradient\"></div>\n            <div class=\"title-wrapper center\">\n              <h2 class=\"title title--primary\">\n                {{ 'sections.collection_template.empty' | t -}}\n                <br>\n                {{\n                  'sections.collection_template.use_fewer_filters_html'\n                  | t: link: collection.url, class: 'underlined-link link'\n                }}\n              </h2>\n            </div>\n          </div>\n        {%- else -%}\n          <div class=\"collection{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\">\n            <div class=\"loading-overlay gradient\"></div>\n\n            <ul id=\"product-grid\" class=\"grid product-grid ...\">\n              {%- for product in collection.products -%}\n                {% assign lazy_load = false %}\n                {%- if forloop.index > 2 -%}\n                  {% assign lazy_load = true -%}\n                {%- endif -%}\n\n                {% assign colorlist = '' %}\n                {% assign product_matched = false %}\n                {% assign color_index = null %}\n                {% assign product_index = null %}\n                {% assign variant_title = '' %}\n                <!-- Added line for variant title -->\n\n                {%- for option in product.options -%}\n                  {% if option == 'Produit' %}\n                    {% assign product_index = forloop.index0 %}\n                  {% elsif option == 'Couleur' %}\n                    {% assign color_index = forloop.index0 %}\n                  {% endif %}\n                {%- endfor -%}\n\n                {% for variant in product.variants %}\n                  {% if product_index != null and variant.options[product_index] == collection.title %}\n                    {% assign product_matched = true %}\n                  {% endif %}\n\n                  {% if product_matched and color_index != null %}\n                    {% assign color = variant.options[color_index] %}\n                    {% unless colorlist contains color %}\n                      {% assign colorlist = colorlist | append: color | append: ' ' %}\n                      {% assign variant_title = product.title\n                        | append: ' - '\n                        | append: color\n                        | append: ' - '\n                        | append: collection.title\n                      %}\n                      <!-- Combined title -->\n                      <li class=\"grid__item\">\n                        {%\n                          render 'card-product-variant',\n                          card_product: variant,\n                          variant_title: variant_title, <!-- Changed from title to variant_title -->\n                          media_aspect_ratio: section.settings.image_ratio,\n                          show_secondary_image: section.settings.show_secondary_image,\n                          show_vendor: section.settings.show_vendor,\n                          show_rating: section.settings.show_rating,\n                          lazy_load: lazy_load,\n                          show_quick_add: section.settings.enable_quick_add,\n                          section_id: section.id\n                        %}\n                      </li>\n                    {% endunless %}\n                  {% endif %}\n                {% endfor %}\n              {%- endfor -%}\n            </ul>\n            {%- if paginate.pages > 1 -%}\n              {% render 'pagination', paginate: paginate, anchor: '' %}\n            {%- endif -%}\n          </div>\n        {%- endif -%}\n      </div>\n    </div>\n  {%- endpaginate -%}\n  {% if section.settings.image_shape == 'arch' %}\n    {% render 'mask-arch' %}\n  {%- endif -%}\n</div>\n\n{% schema %}\n{\n  \"name\": \"t:sections.main-collection-product-grid.name\",\n  \"class\": \"section\",\n  \"settings\": [\n    {\n      \"type\": \"range\",\n      \"id\": \"products_per_page\",\n      \"min\": 8,\n      \"max\": 24,\n      \"step\": 4,\n      \"default\": 16,\n      \"label\": \"t:sections.main-collection-product-grid.settings.products_per_page.label\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"columns_desktop\",\n      \"min\": 1,\n      \"max\": 5,\n      \"step\": 1,\n      \"default\": 4,\n      \"label\": \"t:sections.main-collection-product-grid.settings.columns_desktop.label\"\n    },\n    {\n      \"type\": \"color_scheme\",\n      \"id\": \"color_scheme\",\n      \"label\": \"t:sections.all.colors.label\",\n      \"info\": \"t:sections.all.colors.has_cards_info\",\n      \"default\": \"background-1\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.main-collection-product-grid.settings.header__3.content\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"image_ratio\",\n      \"options\": [\n        {\n          \"value\": \"adapt\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.options__1.label\"\n        },\n        {\n          \"value\": \"portrait\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.options__2.label\"\n        },\n        {\n          \"value\": \"square\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.options__3.label\"\n        }\n      ],\n      \"default\": \"adapt\",\n      \"label\": \"t:sections.main-collection-product-grid.settings.image_ratio.label\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"image_shape\",\n      \"options\": [\n        {\n          \"value\": \"default\",\n          \"label\": \"t:sections.all.image_shape.options__1.label\"\n        },\n        {\n          \"value\": \"arch\",\n          \"label\": \"t:sections.all.image_shape.options__2.label\"\n        },\n        {\n          \"value\": \"blob\",\n          \"label\": \"t:sections.all.image_shape.options__3.label\"\n        },\n        {\n          \"value\": \"chevronleft\",\n          \"label\": \"t:sections.all.image_shape.options__4.label\"\n        },\n        {\n          \"value\": \"chevronright\",\n          \"label\": \"t:sections.all.image_shape.options__5.label\"\n        },\n        {\n          \"value\": \"diamond\",\n          \"label\": \"t:sections.all.image_shape.options__6.label\"\n        },\n        {\n          \"value\": \"parallelogram\",\n          \"label\": \"t:sections.all.image_shape.options__7.label\"\n        },\n        {\n          \"value\": \"round\",\n          \"label\": \"t:sections.all.image_shape.options__8.label\"\n        }\n      ],\n      \"default\": \"default\",\n      \"label\": \"t:sections.all.image_shape.label\",\n      \"info\": \"t:sections.all.image_shape.info\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"show_secondary_image\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.show_secondary_image.label\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"show_vendor\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.show_vendor.label\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"show_rating\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.show_rating.label\",\n      \"info\": \"t:sections.main-collection-product-grid.settings.show_rating.info\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"enable_quick_add\",\n      \"default\": false,\n      \"label\": \"t:sections.main-collection-product-grid.settings.enable_quick_buy.label\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.main-collection-product-grid.settings.header__1.content\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"enable_filtering\",\n      \"default\": true,\n      \"label\": \"t:sections.main-collection-product-grid.settings.enable_filtering.label\",\n      \"info\": \"t:sections.main-collection-product-grid.settings.enable_filtering.info\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"filter_type\",\n      \"options\": [\n        {\n          \"value\": \"horizontal\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.options__1.label\"\n        },\n        {\n          \"value\": \"vertical\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.options__2.label\"\n        },\n        {\n          \"value\": \"drawer\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.options__3.label\"\n        }\n      ],\n      \"default\": \"horizontal\",\n      \"label\": \"t:sections.main-collection-product-grid.settings.filter_type.label\",\n      \"info\": \"t:sections.main-collection-product-grid.settings.filter_type.info\"\n    },\n    {\n      \"type\": \"checkbox\",\n      \"id\": \"enable_sorting\",\n      \"default\": true,\n      \"label\": \"t:sections.main-collection-product-grid.settings.enable_sorting.label\"\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.main-collection-product-grid.settings.header_mobile.content\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"columns_mobile\",\n      \"default\": \"2\",\n      \"label\": \"t:sections.main-collection-product-grid.settings.columns_mobile.label\",\n      \"options\": [\n        {\n          \"value\": \"1\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.columns_mobile.options__1.label\"\n        },\n        {\n          \"value\": \"2\",\n          \"label\": \"t:sections.main-collection-product-grid.settings.columns_mobile.options__2.label\"\n        }\n      ]\n    },\n    {\n      \"type\": \"header\",\n      \"content\": \"t:sections.all.padding.section_padding_heading\"\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"padding_top\",\n      \"min\": 0,\n      \"max\": 100,\n      \"step\": 4,\n      \"unit\": \"px\",\n      \"label\": \"t:sections.all.padding.padding_top\",\n      \"default\": 36\n    },\n    {\n      \"type\": \"range\",\n      \"id\": \"padding_bottom\",\n      \"min\": 0,\n      \"max\": 100,\n      \"step\": 4,\n      \"unit\": \"px\",\n      \"label\": \"t:sections.all.padding.padding_bottom\",\n      \"default\": 36\n    }\n  ]\n}\n{% endschema %}\ncorrige ces codes","md5":"4e0c1a27c67950dcf72cf09c0dafe88a"},{"prompt":"I need to correct the provided Shopify Liquid code. It's a long code snippet for a main-collection-product-grid.liquid and card-product-variant.liquid file. The task involves fixing any syntax errors, improving code efficiency, and ensuring best practices for Shopify Liquid code. Please provide the corrected and optimized version of this code.","md5":"b5ba72e111918ada4de533f6f5d49407"}]}